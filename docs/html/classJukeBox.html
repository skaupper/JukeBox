<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.16"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>VirtualJukebox: JukeBox Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">VirtualJukebox
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.16 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classJukeBox-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">JukeBox Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Core class which combines all interface implementations in a working server application.  
 <a href="classJukeBox.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="JukeBox_8h_source.html">JukeBox.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for JukeBox:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classJukeBox.png" usemap="#JukeBox_map" alt=""/>
  <map id="JukeBox_map" name="JukeBox_map">
<area href="classNetworkListener.html" title="Provides interface methods for all supported requests." alt="NetworkListener" shape="rect" coords="0,0,103,24"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ae94d3046cc3585b677a123db1e2ae81d"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classJukeBox.html#ae94d3046cc3585b677a123db1e2ae81d">start</a> (std::string const &amp;exeName, std::string const &amp;configFilePath)</td></tr>
<tr class="memdesc:ae94d3046cc3585b677a123db1e2ae81d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes <a class="el" href="classConfigHandler.html" title="Singleton class which provides shared access to the configuration file used.">ConfigHandler</a>, LoggingHandler as well as the <a class="el" href="classMusicBackend.html" title="Provides an abstracted interface to a MusicBackend s.">MusicBackend</a>.  <a href="classJukeBox.html#ae94d3046cc3585b677a123db1e2ae81d">More...</a><br /></td></tr>
<tr class="separator:ae94d3046cc3585b677a123db1e2ae81d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a42a91fa2ca2060a1481e5be03c909332"><td class="memItemLeft" align="right" valign="top"><a class="el" href="Result_8h.html#a442760d03514e6c849a35e3f0c768bef">TResult</a>&lt; <a class="el" href="GlobalTypes_8h.html#a0de933f1c954bae9fd7edbff41cf9a91">TSessionID</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classJukeBox.html#a42a91fa2ca2060a1481e5be03c909332">generateSession</a> (std::optional&lt; <a class="el" href="GlobalTypes_8h.html#a0427177b8e88da62a10f9acfcece1359">TPassword</a> &gt; const &amp;pw, std::optional&lt; std::string &gt; const &amp;nickname) override</td></tr>
<tr class="separator:a42a91fa2ca2060a1481e5be03c909332"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ee5230486c8fe35f5153e97dbac7263"><td class="memItemLeft" align="right" valign="top"><a class="el" href="Result_8h.html#a442760d03514e6c849a35e3f0c768bef">TResult</a>&lt; std::vector&lt; <a class="el" href="classBaseTrack.html">BaseTrack</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classJukeBox.html#a0ee5230486c8fe35f5153e97dbac7263">queryTracks</a> (std::string const &amp;searchPattern, size_t const nrOfEntries) override</td></tr>
<tr class="memdesc:a0ee5230486c8fe35f5153e97dbac7263"><td class="mdescLeft">&#160;</td><td class="mdescRight">Query available tracks using different music backends.  <a href="classJukeBox.html#a0ee5230486c8fe35f5153e97dbac7263">More...</a><br /></td></tr>
<tr class="separator:a0ee5230486c8fe35f5153e97dbac7263"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab4552d328bbc8ddf9bfda905061d98dd"><td class="memItemLeft" align="right" valign="top"><a class="el" href="Result_8h.html#a442760d03514e6c849a35e3f0c768bef">TResult</a>&lt; <a class="el" href="structQueueStatus.html">QueueStatus</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classJukeBox.html#ab4552d328bbc8ddf9bfda905061d98dd">getCurrentQueues</a> (<a class="el" href="GlobalTypes_8h.html#a0de933f1c954bae9fd7edbff41cf9a91">TSessionID</a> const &amp;sid)</td></tr>
<tr class="memdesc:ab4552d328bbc8ddf9bfda905061d98dd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Query the content of the current queues.  <a href="classJukeBox.html#ab4552d328bbc8ddf9bfda905061d98dd">More...</a><br /></td></tr>
<tr class="separator:ab4552d328bbc8ddf9bfda905061d98dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acbf8e845d6b8ca1e150a91a5c329820b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="Result_8h.html#aada7d5476a077b5984176864eefe0c5f">TResultOpt</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classJukeBox.html#acbf8e845d6b8ca1e150a91a5c329820b">addTrackToQueue</a> (<a class="el" href="GlobalTypes_8h.html#a0de933f1c954bae9fd7edbff41cf9a91">TSessionID</a> const &amp;sid, <a class="el" href="GlobalTypes_8h.html#a913b47270997e628c2767eebc80a2e6a">TTrackID</a> const &amp;trkid, <a class="el" href="GlobalTypes_8h.html#ad18b8aa57b4ec903e6c8684855647be1">QueueType</a> type) override</td></tr>
<tr class="memdesc:acbf8e845d6b8ca1e150a91a5c329820b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a track to a given queue (normal or admin).  <a href="classJukeBox.html#acbf8e845d6b8ca1e150a91a5c329820b">More...</a><br /></td></tr>
<tr class="separator:acbf8e845d6b8ca1e150a91a5c329820b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a63dd8c5ab590dda4ccd3fe3476134acd"><td class="memItemLeft" align="right" valign="top"><a class="el" href="Result_8h.html#aada7d5476a077b5984176864eefe0c5f">TResultOpt</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classJukeBox.html#a63dd8c5ab590dda4ccd3fe3476134acd">voteTrack</a> (<a class="el" href="GlobalTypes_8h.html#a0de933f1c954bae9fd7edbff41cf9a91">TSessionID</a> const &amp;sid, <a class="el" href="GlobalTypes_8h.html#a913b47270997e628c2767eebc80a2e6a">TTrackID</a> const &amp;trkid, <a class="el" href="GlobalTypes_8h.html#a5842247e6ba9809bdba7898b9fe2b3dd">TVote</a> vote) override</td></tr>
<tr class="memdesc:a63dd8c5ab590dda4ccd3fe3476134acd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Vote for a track or revoke a vote.  <a href="classJukeBox.html#a63dd8c5ab590dda4ccd3fe3476134acd">More...</a><br /></td></tr>
<tr class="separator:a63dd8c5ab590dda4ccd3fe3476134acd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ef7b0f9ab225fc18b606a1ec3fb830d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="Result_8h.html#aada7d5476a077b5984176864eefe0c5f">TResultOpt</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classJukeBox.html#a4ef7b0f9ab225fc18b606a1ec3fb830d">removeTrack</a> (<a class="el" href="GlobalTypes_8h.html#a0de933f1c954bae9fd7edbff41cf9a91">TSessionID</a> const &amp;sid, <a class="el" href="GlobalTypes_8h.html#a913b47270997e628c2767eebc80a2e6a">TTrackID</a> const &amp;trkid) override</td></tr>
<tr class="memdesc:a4ef7b0f9ab225fc18b606a1ec3fb830d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove a track from a queue.  <a href="classJukeBox.html#a4ef7b0f9ab225fc18b606a1ec3fb830d">More...</a><br /></td></tr>
<tr class="separator:a4ef7b0f9ab225fc18b606a1ec3fb830d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a47da68cdc2e529fc5b74c846ac196db5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="Result_8h.html#aada7d5476a077b5984176864eefe0c5f">TResultOpt</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classJukeBox.html#a47da68cdc2e529fc5b74c846ac196db5">moveTrack</a> (<a class="el" href="GlobalTypes_8h.html#a0de933f1c954bae9fd7edbff41cf9a91">TSessionID</a> const &amp;sid, <a class="el" href="GlobalTypes_8h.html#a913b47270997e628c2767eebc80a2e6a">TTrackID</a> const &amp;trkid, <a class="el" href="GlobalTypes_8h.html#ad18b8aa57b4ec903e6c8684855647be1">QueueType</a> toQueue) override</td></tr>
<tr class="memdesc:a47da68cdc2e529fc5b74c846ac196db5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Move a track between queues.  <a href="classJukeBox.html#a47da68cdc2e529fc5b74c846ac196db5">More...</a><br /></td></tr>
<tr class="separator:a47da68cdc2e529fc5b74c846ac196db5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2141a7b4645dde1155b696d7258cd8c1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="Result_8h.html#aada7d5476a077b5984176864eefe0c5f">TResultOpt</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classJukeBox.html#a2141a7b4645dde1155b696d7258cd8c1">controlPlayer</a> (<a class="el" href="GlobalTypes_8h.html#a0de933f1c954bae9fd7edbff41cf9a91">TSessionID</a> const &amp;sid, <a class="el" href="GlobalTypes_8h.html#aea132397c26cad8f8637a9422260deca">PlayerAction</a> action) override</td></tr>
<tr class="memdesc:a2141a7b4645dde1155b696d7258cd8c1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Controls the behaviour of the music player.  <a href="classJukeBox.html#a2141a7b4645dde1155b696d7258cd8c1">More...</a><br /></td></tr>
<tr class="separator:a2141a7b4645dde1155b696d7258cd8c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Core class which combines all interface implementations in a working server application. </p>
<p>This class is responsible for forwarding requests to the MusicBackends as well as accessing data of an <a class="el" href="classDataStore.html" title="Interface for storing Data such as Tracks, Users, Votes, etc.">DataStore</a> and responding to requests from the <a class="el" href="classNetworkAPI.html" title="Base class for all implementations of network interfaces.">NetworkAPI</a> appropriatly.<br  />
<br  />
 Additionally the <a class="el" href="classJukeBox.html" title="Core class which combines all interface implementations in a working server application.">JukeBox</a> contains a (simple) scheduler algorithm to proceed after a track is over. </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="acbf8e845d6b8ca1e150a91a5c329820b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acbf8e845d6b8ca1e150a91a5c329820b">&#9670;&nbsp;</a></span>addTrackToQueue()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="Result_8h.html#aada7d5476a077b5984176864eefe0c5f">TResultOpt</a> JukeBox::addTrackToQueue </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="GlobalTypes_8h.html#a0de933f1c954bae9fd7edbff41cf9a91">TSessionID</a> const &amp;&#160;</td>
          <td class="paramname"><em>sid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="GlobalTypes_8h.html#a913b47270997e628c2767eebc80a2e6a">TTrackID</a> const &amp;&#160;</td>
          <td class="paramname"><em>trkid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="GlobalTypes_8h.html#ad18b8aa57b4ec903e6c8684855647be1">QueueType</a>&#160;</td>
          <td class="paramname"><em>type</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Add a track to a given queue (normal or admin). </p>
<p>Depending on the value of <code>type</code> a track is added to either the normal or the admin queue. If the track is not found, or the user has no permission to add the track to the specified queue, an error is returned.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sid</td><td>The session ID of the user. Used to authenticate as admin if needed. </td></tr>
    <tr><td class="paramname">trkid</td><td>The ID of the track to add to a queue. Has to be queried using <code>queryMusic</code> beforehand. </td></tr>
    <tr><td class="paramname">type</td><td>Determines to which queue the track should be added. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns an <code><a class="el" href="classError.html" title="A customized error type.">Error</a></code> if something went wrong.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>To add something to the admin queue, the user must have been authenticated as admin when generating the session ID! </dd></dl>

<p>Implements <a class="el" href="classNetworkListener.html#a37a93e71aa983e86260345e5e4982359">NetworkListener</a>.</p>

</div>
</div>
<a id="a2141a7b4645dde1155b696d7258cd8c1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2141a7b4645dde1155b696d7258cd8c1">&#9670;&nbsp;</a></span>controlPlayer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="Result_8h.html#aada7d5476a077b5984176864eefe0c5f">TResultOpt</a> JukeBox::controlPlayer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="GlobalTypes_8h.html#a0de933f1c954bae9fd7edbff41cf9a91">TSessionID</a> const &amp;&#160;</td>
          <td class="paramname"><em>sid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="GlobalTypes_8h.html#aea132397c26cad8f8637a9422260deca">PlayerAction</a>&#160;</td>
          <td class="paramname"><em>action</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Controls the behaviour of the music player. </p>
<p>Allows the admin to control some behaviour of the player. This includes pausing/resuming/stopping the playback, skipping a track and adjusting the volume by a fixed percentage at a time.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sid</td><td>The session ID of the user. Used to authenticate as admin. </td></tr>
    <tr><td class="paramname">action</td><td>Specifies which action to take from the available ones listed above. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns an <code><a class="el" href="classError.html" title="A customized error type.">Error</a></code> if something went wrong.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>To control the player, the user must have been authenticated as admin when generating the session ID! </dd></dl>

<p>Implements <a class="el" href="classNetworkListener.html#aafbc105ce3b3008f19fd373df4ebc383">NetworkListener</a>.</p>

</div>
</div>
<a id="a42a91fa2ca2060a1481e5be03c909332"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a42a91fa2ca2060a1481e5be03c909332">&#9670;&nbsp;</a></span>generateSession()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="Result_8h.html#a442760d03514e6c849a35e3f0c768bef">TResult</a>&lt; <a class="el" href="GlobalTypes_8h.html#a0de933f1c954bae9fd7edbff41cf9a91">TSessionID</a> &gt; JukeBox::generateSession </td>
          <td>(</td>
          <td class="paramtype">std::optional&lt; <a class="el" href="GlobalTypes_8h.html#a0427177b8e88da62a10f9acfcece1359">TPassword</a> &gt; const &amp;&#160;</td>
          <td class="paramname"><em>pw</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::optional&lt; std::string &gt; const &amp;&#160;</td>
          <td class="paramname"><em>nickname</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Implementations of the network endpoints defined in <a class="el" href="classNetworkListener.html" title="Provides interface methods for all supported requests.">NetworkListener</a> </p>

<p>Implements <a class="el" href="classNetworkListener.html#a9c987d6bf2bfb3ac32528c19e1cd9317">NetworkListener</a>.</p>

</div>
</div>
<a id="ab4552d328bbc8ddf9bfda905061d98dd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab4552d328bbc8ddf9bfda905061d98dd">&#9670;&nbsp;</a></span>getCurrentQueues()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="Result_8h.html#a442760d03514e6c849a35e3f0c768bef">TResult</a>&lt; <a class="el" href="structQueueStatus.html">QueueStatus</a> &gt; JukeBox::getCurrentQueues </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="GlobalTypes_8h.html#a0de933f1c954bae9fd7edbff41cf9a91">TSessionID</a> const &amp;&#160;</td>
          <td class="paramname"><em>sid</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Query the content of the current queues. </p>
<p>Additionally to the current normal and admin queue, the currently playing track is returned as well (if any).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sid</td><td>The session ID of the user. Used to provide the information if the user has already voted for a specific track.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>On success the current queues and the current track are returned, an <code><a class="el" href="classError.html" title="A customized error type.">Error</a></code> otherwise. </dd></dl>

<p>Implements <a class="el" href="classNetworkListener.html#a5a04722db64e24631450f9ca5d1ef7dd">NetworkListener</a>.</p>

</div>
</div>
<a id="a47da68cdc2e529fc5b74c846ac196db5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a47da68cdc2e529fc5b74c846ac196db5">&#9670;&nbsp;</a></span>moveTrack()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="Result_8h.html#aada7d5476a077b5984176864eefe0c5f">TResultOpt</a> JukeBox::moveTrack </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="GlobalTypes_8h.html#a0de933f1c954bae9fd7edbff41cf9a91">TSessionID</a> const &amp;&#160;</td>
          <td class="paramname"><em>sid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="GlobalTypes_8h.html#a913b47270997e628c2767eebc80a2e6a">TTrackID</a> const &amp;&#160;</td>
          <td class="paramname"><em>trkid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="GlobalTypes_8h.html#ad18b8aa57b4ec903e6c8684855647be1">QueueType</a>&#160;</td>
          <td class="paramname"><em>toQueue</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Move a track between queues. </p>
<p>Can be used to move a track from one queue to another. If the track is already in the specified queue, nothing happens. Otherwise the track will be moved to the end of the queue and loses all queue specific properties (i.e. votes). This action is only allowed for admins.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sid</td><td>The session ID of the user. Used to authenticate as admin. </td></tr>
    <tr><td class="paramname">trkid</td><td>The track to be moved. Has to be queried using <code>queryMusic</code> beforehand. </td></tr>
    <tr><td class="paramname">toQueue</td><td>Determines which queue the track should be moved to. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns an <code><a class="el" href="classError.html" title="A customized error type.">Error</a></code> if something went wrong.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>To move a track from and to any queue, the user must have been authenticated as admin when generating the session ID! </dd></dl>

<p>Implements <a class="el" href="classNetworkListener.html#a2d0015c8ce1c73931662102539709a5f">NetworkListener</a>.</p>

</div>
</div>
<a id="a0ee5230486c8fe35f5153e97dbac7263"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0ee5230486c8fe35f5153e97dbac7263">&#9670;&nbsp;</a></span>queryTracks()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="Result_8h.html#a442760d03514e6c849a35e3f0c768bef">TResult</a>&lt; vector&lt; <a class="el" href="classBaseTrack.html">BaseTrack</a> &gt; &gt; JukeBox::queryTracks </td>
          <td>(</td>
          <td class="paramtype">std::string const &amp;&#160;</td>
          <td class="paramname"><em>searchPattern</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t const&#160;</td>
          <td class="paramname"><em>nrOfEntries</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Query available tracks using different music backends. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">searchPattern</td><td>The search pattern used to query tracks from the backend(s). </td></tr>
    <tr><td class="paramname">nrOfEntries</td><td>Limits the number of returned track. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>On success the a maximum of <code>nrOfEntries</code> tracks are returned, an <code><a class="el" href="classError.html" title="A customized error type.">Error</a></code> otherwise. </dd></dl>

<p>Implements <a class="el" href="classNetworkListener.html#a452d6977cab9c55841d2dc9a28e15921">NetworkListener</a>.</p>

</div>
</div>
<a id="a4ef7b0f9ab225fc18b606a1ec3fb830d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4ef7b0f9ab225fc18b606a1ec3fb830d">&#9670;&nbsp;</a></span>removeTrack()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="Result_8h.html#aada7d5476a077b5984176864eefe0c5f">TResultOpt</a> JukeBox::removeTrack </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="GlobalTypes_8h.html#a0de933f1c954bae9fd7edbff41cf9a91">TSessionID</a> const &amp;&#160;</td>
          <td class="paramname"><em>sid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="GlobalTypes_8h.html#a913b47270997e628c2767eebc80a2e6a">TTrackID</a> const &amp;&#160;</td>
          <td class="paramname"><em>trkid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Remove a track from a queue. </p>
<p>Can be used to remove a track from a queue. Since one track can only be in one queue at a time, a queue type is not needed. This action is only allowed for admins.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sid</td><td>The session ID of the user. Used to authenticate as admin. </td></tr>
    <tr><td class="paramname">trkid</td><td>The track to be removed. Has to be queried using <code>queryMusic</code> beforehand. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns an <code><a class="el" href="classError.html" title="A customized error type.">Error</a></code> if something went wrong.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>To remove a track from any queue, the user must have been authenticated as admin when generating the session ID! </dd></dl>

<p>Implements <a class="el" href="classNetworkListener.html#a017bf4541619e098880ad115fd1ba6e7">NetworkListener</a>.</p>

</div>
</div>
<a id="ae94d3046cc3585b677a123db1e2ae81d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae94d3046cc3585b677a123db1e2ae81d">&#9670;&nbsp;</a></span>start()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool JukeBox::start </td>
          <td>(</td>
          <td class="paramtype">std::string const &amp;&#160;</td>
          <td class="paramname"><em>exeName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string const &amp;&#160;</td>
          <td class="paramname"><em>configFilePath</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes <a class="el" href="classConfigHandler.html" title="Singleton class which provides shared access to the configuration file used.">ConfigHandler</a>, LoggingHandler as well as the <a class="el" href="classMusicBackend.html" title="Provides an abstracted interface to a MusicBackend s.">MusicBackend</a>. </p>
<p>After initializing all handlers and interfaces it starts to handle incoming requests using the <a class="el" href="classNetworkAPI.html" title="Base class for all implementations of network interfaces.">NetworkAPI</a>. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">exeName</td><td>Name of the currently running executable. </td></tr>
    <tr><td class="paramname">configFilePath</td><td>Path to *.ini config file, relative to executable. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><code>true</code> on success, <code>false</code> otherwise. </dd></dl>

</div>
</div>
<a id="a63dd8c5ab590dda4ccd3fe3476134acd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a63dd8c5ab590dda4ccd3fe3476134acd">&#9670;&nbsp;</a></span>voteTrack()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="Result_8h.html#aada7d5476a077b5984176864eefe0c5f">TResultOpt</a> JukeBox::voteTrack </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="GlobalTypes_8h.html#a0de933f1c954bae9fd7edbff41cf9a91">TSessionID</a> const &amp;&#160;</td>
          <td class="paramname"><em>sid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="GlobalTypes_8h.html#a913b47270997e628c2767eebc80a2e6a">TTrackID</a> const &amp;&#160;</td>
          <td class="paramname"><em>trkid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="GlobalTypes_8h.html#a5842247e6ba9809bdba7898b9fe2b3dd">TVote</a>&#160;</td>
          <td class="paramname"><em>vote</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Vote for a track or revoke a vote. </p>
<p>Depending on the value of <code>type</code> a track is added to either the normal or the admin queue. If the track is not found, or the user has no permission to add the track to the specified queue, an error is returned.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sid</td><td>The session ID of the user. Used to authenticate as admin if needed. </td></tr>
    <tr><td class="paramname">trkid</td><td>The ID of the track to add to a queue. Has to be queried using <code>queryMusic</code> beforehand. </td></tr>
    <tr><td class="paramname">vote</td><td>Determines if a vote is set or revoked. There cannot be more than 1 or less than 0 votes from the same user on the same track!</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns an <code><a class="el" href="classError.html" title="A customized error type.">Error</a></code> if something went wrong. </dd></dl>

<p>Implements <a class="el" href="classNetworkListener.html#a5eaa0385f3f14a0797e47d53aba2a5aa">NetworkListener</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/<a class="el" href="JukeBox_8h_source.html">JukeBox.h</a></li>
<li>src/<a class="el" href="JukeBox_8cpp.html">JukeBox.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.16
</small></address>
</body>
</html>
